"use strict";

const IRC = {
	lib: {
		connect: require(".")
	},
	socket: null,
	options: {
		port: 6697,
		secure: true,
		//nick: "Nickname",
		//realname: "irc-connect user",
		//ident: "irc-cnct"
	}
};

IRC.socket = IRC.lib.connect.connect("chat.freenode.net", IRC.options);
IRC.socket.on('welcome', function (msg) {
	console.log(msg);
	this.nick('wilkap', 'pinkpink', function(err){
		console.log('There was a problem setting your NICK:', err);
	});
});
IRC.socket.on('identified', function (nick) {
	this.send('JOIN #node.js');
});
IRC.socket.on('nick', function (nick) {
	console.log('Your nick is now:', nick);
});
IRC.socket.on('NOTICE', function (event) {
	console.log('NOTICE:', event.params[1]);
});
IRC.socket.on('JOIN', function (event) {
	console.log(event.nick, 'joined');
});
IRC.socket.on('PRIVMSG', function (event) {
	var params = event.params;
	console.log('message from: '+event.nick, 'to: '+params[0], params[1]);
});
